name: Update Rank
on:
  schedule:
    - cron: '40 3 * * 3' # Every Wednesday at 03:40 UTC
  workflow_dispatch:
    inputs:
        name:
          type: string
          description: Player name
          required: false

jobs:
  update_rank:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v3
      
      - name: Setup .NET Core
        uses: actions/setup-dotnet@v3
        with:
          dotnet-version: 7.0.x

      - name: Run Program
        run: |
          dotnet run -n '${{ inputs.name }}' >> $GITHUB_STEP_SUMMARY